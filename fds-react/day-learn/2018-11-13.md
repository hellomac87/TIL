# 2018-11-13

## 예외처리

## Promise 예외처리

## JSX

## 불변성

***`값을 변경하고 싶을 때는, 값을 새로 만든다.`***

## state

State 업데이트는 비동기일 수 있습니다
React는 성능을 위해 여러 setState() 호출을 한 번의 작업으로 묶어서 처리하는 경우가 있습니다.

***`this.props 및 this.state 가 비동기로 업데이트될 수 있기 때문에, 다음 state를 계산할 때 이 값을 신뢰해서는 안됩니다.`***

```js
// this.setState({
//   count: this.state.count + 1
// }); 0 => 1
// this.setState({
//   count: this.state.count + 1
// }); 0 => 1
// 비동기적으로 작동

this.setState((prevState) => {
return{
    count: prevState.count + 1        
}
});
this.setState((prevState) => {
return{
    count: prevState.count + 1        
}
});
// 리액트만의 태스크큐 존재, 콜백들을 큐에 등록해놓고 순서대로 실행(동기적으로 실행)
```

## setState의 얕은 병함

중첩되어있는 객체(ex/객체안의 객체)에 대해서는 적용되지 않음

```js
const state = {
    profile :{
        name: 'asdasd'
    },
    posts: [],
    comments: []
}

const newState = Object.assign({}, state, {
    profile: {
        address: '서울'
    }
});

// 결과 :: { profile: { address: '서울' }, posts: [], comments: [] }
// profile.name 사라짐
```

## 비동기함수 이벤트리스너

***리액트에서 비동기함수를 이벤트 리스너로 등록하는 것은 위험***

DOM API와는 다른 e 객체임 리액트에서는

`event.persist()` => 이벤트 리스너 돌려쓰지 마시옹

## react jsx true, false, null

react는 true, false, null 을 그려주지 않는다.